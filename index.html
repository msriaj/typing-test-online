<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Typing Speed Test</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">

        <div class="content-box">
            <input type="text" name="typing" id="type" oninput="textInput()">
            <div class="typing-text">
                <p id="typingText">What is Bangladesh famous for? It is home to the world's largest river delta, which
                    is formed by the
                    Brahmaputra and the
                    Ganges river. Roaming Bengal tigers in the Sundarbans, a mangrove and swampland in the delta. For
                    the
                    longest natural
                    uninterrupted sea beach in Asia (Cox's Bazar beach), which is 150 km long.</p>
            </div>
            <div class="content">
                <div class="output-result">
                    <ul>
                        <li class="time-lefft">
                            <p>Time Left:</p>
                            <span id="time">60</span>
                        </li>
                        <li class="mistake">
                            <p>Mistake:</p>
                            <span id="mistake">0</span>
                        </li>
                        <li class="wpm">
                            <p>Wpm:</p>
                            <span id="wpm">0</span>
                        </li>
                        <li class="cpm">
                            <p>CPM:</p>
                            <span id="cpm">0</span>
                        </li>
                        <li>
                            <button onclick="readyToType()">Try Again</button>
                        </li>
                    </ul>
                </div>

            </div>
        </div>

    </div>

    <script>
        const listOfpera = [
            "Black roses are symbols featured in fiction with many different meanings and titles such as black velvet rose, black magic, barkarole, black beauty, Tuscany superb, black jade, and baccara. The roses commonly called black roses are technically a very dark shade of red, purple or maroon.The color of a rose may be deepened by placing a dark rose in a vase of water mixed with black ink.Other black roses may be blackened by other methods such as burning.",

            "Dear Future Husband is a song by American singer - songwriter Meghan Trainor.It was included on Title, her 2014 extended play, and later on her 2015 studio album of the same name.Trainor wrote the song with its producer Kevin Kadish.Epic Records released Dear Future Husband as the album's third single on March 17, 2015. A doo-wop and pop song, it has lyrics about chivalry and dating. In it Trainor lists things a potential romantic suitor needs to do to win her affection.",

            "What is Bangladesh famous for? It is home to the world's largest river delta, which is formed by the Brahmaputra and the Ganges river.Roaming Bengal tigers in the Sundarbans, a mangrove and swampland in the delta.For the longest natural uninterrupted sea beach in Asia(Cox's Bazar beach), which is 150 km long.",
            "From Chittagong a 77 kilometres (48 mi) road leads to Rangamati. The township is located on the western bank of the Kaptai lake. Rangamati is a holiday destination because of its landscape, scenic beauty, lake, indigenous groups (Chakma, Marma, Tripuri, Tanchangya Pangkhua etc.), flora and fauna, indigenous museum, hanging bridge etc.",

            "Sajek valley is known for its natural environment and is surrounded by mountains, dense forest, and grassland hill tracks. Many small rivers flow through the mountains among which the Kachalong and the Machalong are notable. On the way to Sajek valley, one has to cross the Mayni range and the Mayni river. The road to Sajek has high peaks and falls.",

            "Essay topics in English can be difficult to come up with. While writing essays, many college and high school students face writer’s block and have a hard time to think about topics and ideas for an essay. In this article, we will list out many good essay topics from different categories like argumentative essays, essays on technology, environment essays for students from 5th, 6th, 7th, 8th grades. Following list of essay topics are for all – from kids to college students. We have the largest collection of essays. ",

            "A letter is a written message that can be handwritten or printed on paper. It is usually sent to the recipient via mail or post in an envelope, although this is not a requirement as such. Any such message that is transferred via post is a letter, a written conversation between two parties.",
            "Let us first understand that there are broadly two types of letter, namely Formal Letters, and Informal Letters. But then there are also a few types of letters based on their contents, formalities, the purpose of letter writing etc. Let us have a look at the few types of letters.",
            "Black roses are symbols featured in fiction with many different meanings and titles such as black velvet rose, black magic, barkarole, black beauty, Tuscany superb, black jade, and baccara. The roses commonly called black roses are technically a very dark shade of red, purple or maroon.The color of a rose may be deepened by placing a dark rose in a vase of water mixed with black ink.Other black roses may be blackened by other methods such as burning.",

            "Dear Future Husband is a song by American singer - songwriter Meghan Trainor.It was included on Title, her 2014 extended play, and later on her 2015 studio album of the same name.Trainor wrote the song with its producer Kevin Kadish.Epic Records released Dear Future Husband as the album's third single on March 17, 2015. A doo-wop and pop song, it has lyrics about chivalry and dating. In it Trainor lists things a potential romantic suitor needs to do to win her affection.",

            "What is Bangladesh famous for? It is home to the world's largest river delta, which is formed by the Brahmaputra and the Ganges river.Roaming Bengal tigers in the Sundarbans, a mangrove and swampland in the delta.For the longest natural uninterrupted sea beach in Asia(Cox's Bazar beach), which is 150 km long.",

            "From Chittagong a 77 kilometres (48 mi) road leads to Rangamati. The township is located on the western bank of the Kaptai lake. Rangamati is a holiday destination because of its landscape, scenic beauty, lake, indigenous groups (Chakma, Marma, Tripuri, Tanchangya Pangkhua etc.), flora and fauna, indigenous museum, hanging bridge etc.",

            "Sajek valley is known for its natural environment and is surrounded by mountains, dense forest, and grassland hill tracks. Many small rivers flow through the mountains among which the Kachalong and the Machalong are notable. On the way to Sajek valley, one has to cross the Mayni range and the Mayni river. The road to Sajek has high peaks and falls.",

            "Essay topics in English can be difficult to come up with. While writing essays, many college and high school students face writer’s block and have a hard time to think about topics and ideas for an essay. In this article, we will list out many good essay topics from different categories like argumentative essays, essays on technology, environment essays for students from 5th, 6th, 7th, 8th grades. Following list of essay topics are for all – from kids to college students. We have the largest collection of essays. ",

            "A letter is a written message that can be handwritten or printed on paper. It is usually sent to the recipient via mail or post in an envelope, although this is not a requirement as such. Any such message that is transferred via post is a letter, a written conversation between two parties.",
            "Let us first understand that there are broadly two types of letter, namely Formal Letters, and Informal Letters. But then there are also a few types of letters based on their contents, formalities, the purpose of letter writing etc. Let us have a look at the few types of letters."
        ]
        let timer, maxTime = 60, timeLeft = maxTime;
        let isTyping;

        function textInput(params) {
            let correctCount = 0;
            let incorrect = 1;
            let typedText = document.getElementById("type").value;
            let paragraph = document.getElementById("typingText").innerText;

            if (correctCount + incorrect < paragraph.length - 1 && timeLeft > 0) {

                if (!isTyping) {
                    timer = setInterval(intTimer, 1000);
                    isTyping = true;
                }


                typedText = typedText.split("");
                paragraph = paragraph.split("");


                for (let index = 0; index < typedText.length; index++) {

                    const element = paragraph[index];
                    if (paragraph[index] === typedText[index]) {
                        correctCount++;

                        paragraph[index] = `<span class="active">${paragraph[index]}</span>`;


                        document.getElementById("typingText").innerHTML = paragraph.join("");

                    }
                    else {
                        paragraph[index] = `<span class="red">${paragraph[index]}</span>`;
                        document.getElementById("mistake").innerText = incorrect++;
                        document.getElementById("typingText").innerHTML = paragraph.join("");
                    }
                }
                let wpmCount = Math.round(((correctCount / 5) / (maxTime - timeLeft)) * 60);
                wpmCount = wpmCount < 0 || !wpmCount || wpmCount === Infinity ? 0 : wpmCount;
                document.getElementById("wpm").innerText = wpmCount;
                document.getElementById("cpm").innerText = correctCount;
            }
            else {
                clearInterval(timer);
            }

        }


        function readyToType() {
            document.addEventListener("keypress", () => {
                document.getElementById("type").focus();

            });
            document.getElementById("typingText").innerText = listOfpera[Math.floor(Math.random() * 11)];

        }

        readyToType();

        function intTimer() {
            if (timeLeft > 0) {
                timeLeft--;
                document.getElementById("time").innerText = timeLeft;


            }
            else {
                clearInterval(timer)
            }
        }


    </script>
</body>

</html>